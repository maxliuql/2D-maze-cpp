#include<iostream>
using namespace std;
#include<conio.h>
#include<stdlib.h>

#define HEIGHT 20
#define WIDTH 20

char maze[HEIGHT][WIDTH]={
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1},
{1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1},
{1,1,0,0,0,0,0,1,1,0,0,0,1,0,1,0,1,0,1,1},
{1,1,0,1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,0,1},
{1,1,0,1,1,0,1,1,1,0,1,0,1,0,1,0,0,1,0,1},
{1,1,0,1,1,1,1,1,1,0,1,0,1,0,0,1,0,1,0,1},
{1,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,1},
{1,1,1,1,1,1,1,0,1,0,1,1,0,1,0,1,1,0,1,1},
{1,0,0,0,0,0,0,0,1,0,2,1,0,1,0,1,1,0,1,1},
{1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,0,1,0,1,1},
{1,1,1,1,0,1,1,0,1,1,0,1,0,1,0,1,1,0,1,1},
{1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,1,1},
{1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,1,1},
{1,1,0,1,0,0,1,0,1,1,0,1,0,0,0,1,1,0,1,1},
{1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,1,1,0,1,1},
{1,0,0,0,1,0,1,0,1,1,0,1,1,0,1,1,1,0,1,1},
{1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0},
{1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

#include"./src/screen.hpp"

int main()
{
	cout<<"\x1b[38;5;45m";
	Screen screen;
	screen.init();

	screen.update();
	while(1)
	{
		if(kbhit())
		{
			char ch=_getch();
			switch(ch)
			{
				case 'w':
					screen.up();
					break;
				case 'a':
					screen.left();
					break;
				case 's':
					screen.down();
					break;
				case 'd':
					screen.right();
					break;
			}
			screen.update();
		}
	}
}
